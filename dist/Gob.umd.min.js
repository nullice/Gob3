!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Gob=e()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},l={isEmptyObject:function(t){for(var e in t)return!1;return!0},objectCopyToObject:function(t,e,r,n,o,i){if(void 0!=e)for(var c in t){void 0!=i&&i(t,e,c);void 0!=r&&r(c,t[c]);var s=c;void 0!=n&&(s=n(c,t[c])),void 0!=t[c]&&t[c].constructor===Object?("object"!==a(e[s])&&(e[s]={}),this.objectCopyToObject(t[c],e[s],r,n,o)):e[s]=void 0!=o?o(c,t[c]):t[c]}},getObjectValueByNames:function(t,e,r){for(var n,o=0;o<e.length-(r||0);o++)if(0==o){if(void 0==(i=t[e[o]]))return;n=i}else{var i;if(void 0==(i=n[e[o]]))return;n=i}return n},setObjectValueByNames:function(t,e,r){var n=e.length;if(1!=n)for(var o=t,i=null,a=0;a<n;a++){if(i=e[a],a==n-1)return void(o[i]=r);i in o?o=o[i]:(o[i]={},o=o[i])}else t[e[0]]=r},deleteObjectValueByNames:function(t,e){var r=e.length;if(1!=r)for(var n=t,o=null,i=0;i<r;i++){if(o=e[i],i==r-1)return void delete n[o];n=n[o]}else delete t[e[0]]},treeFind:function(t,e,r,n,o){if("function"==typeof e)var i=e;else i=function(t){return t.id==e};var a=function t(e,r,n,o,a){for(var c=[],s=[],u=0;u<e.length;u++){var l=e[u];if(i(l)&&(c.push(l),!o))return c;if(l[n])if(a){var f=t(l[n],r,n,o,a);if(!o&&f.length>0)return f;c=c.concat(f)}else s.push(l[n])}if(!a)for(u=0;u<s.length;u++){if(f=t(s[u],r,n,o,a),!o&&f.length>0)return f;c=c.concat(f)}return c}(t,i,r,n,o);return n?a:a.length>0?a[0]:null},treeEach:function(t,e,r,n){var o=[],i=0,a=0;return e||(e=function(t){}),function t(e,r,n,c,s){s>a&&(a=s);var u=[];for(var l=0;l<e.length;l++){i++,void 0==o[s]?o[s]=1:o[s]++;var f=e[l];if(r(f,s,o[s],i,e,l))return;if(f[n])if(c){var p=t(f[n],r,n,c,s+1);if(p)return}else u.push(f[n])}if(!c)for(var l=0;l<u.length;l++){var p=t(u[l],r,n,c,s+1);if(p)return}return}(t,e,r,n,0),{struct:o,deep:a+1,total:i}},pathEach:function(t,e,r){if(r){var n="function"==typeof r,o=new WeakMap;o.set(t,!n||[])}!function t(i){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var l in i){var f=i[l];if(r&&"object"===(void 0===f?"undefined":a(f))){var p=[].concat(u(c),[l]);if(o.get(f)){n&&r(f,p,o.get(f));continue}n?o.set(f,p):o.set(f,!0)}var p=[].concat(u(c),[l]);e(f,p,s),"object"===(void 0===f?"undefined":a(f))&&t(f,p,s+1)}}(t,[],0)}},f={getType:function(t){var e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object Error]":"error"};return null===t?"null":void 0===t?"undefined":"object"===(void 0===t?"undefined":a(t))||"function"==typeof t?e[e.toString.call(t)]||"object":void 0===t?"undefined":a(t)}};function p(t,e){return t(e={exports:{}},e.exports),e.exports}p(function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}});for(var h=[],v=0;v<256;++v)h[v]=(v+256).toString(16).substr(1);var y=p(function(t,e){var r=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},e.merge=function(t,n,o){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var i=t;return Array.isArray(t)&&!Array.isArray(n)&&(i=e.arrayToObject(t,o)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,i){r.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e.merge(t[i],n,o):t.push(n):t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return r.call(t,i)?t[i]=e.merge(t[i],a,o):t[i]=a,t},i)},e.assign=function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",o=0;o<e.length;++o){var i=e.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=e.charAt(o):i<128?r+=n[i]:i<2048?r+=n[192|i>>6]+n[128|63&i]:i<55296||i>=57344?r+=n[224|i>>12]+n[128|i>>6&63]+n[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(o)),r+=n[240|i>>18]+n[128|i>>12&63]+n[128|i>>6&63]+n[128|63&i])}return r},e.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var s=a[c],u=i[s];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(e.push({obj:i,prop:s}),r.push(u))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],o=0;o<e.length;++o)void 0!==e[o]&&n.push(e[o]);r.obj[r.prop]=n}}return e}(e)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}),b=(y.arrayToObject,y.merge,y.assign,y.decode,y.encode,y.compact,y.isRegExp,y.isBuffer,Date.prototype.toISOString,y.encode,y.decode,function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;c(this,t),this.cacheOb={},this.keyList=[],this.keyListOffset=0,this.keyMap={},this.maxSize=e,this.blankSize=r,this.size=0}s(t,[{key:"get",value:function(t){var e=this;if(void 0!==this.keyMap[t]){var r=this.keyMap[t]+this.keyListOffset;this.keyList[r]=void 0,this.keyList.push(t);var n=this.keyList.length-1;this.keyMap[t]=n-this.keyListOffset}return this.keyList.length>200&&setTimeout(function(){e.reMap()},0),this.cacheOb[t]}},{key:"set",value:function(t,e){this.size++,this.size>this.maxSize&&this.eliminate(),this.keyList.push(t);var r=this.keyList.length-1;return void 0!==this.keyMap[t]&&(this.keyList[this.keyMap[t]+this.keyListOffset]=void 0,this.size--),this.keyMap[t]=r-this.keyListOffset,this.cacheOb[t]=e}},{key:"eliminate",value:function(){for(var t=0,e=0;e<this.blankSize;t++){var r=this.keyList.shift();this.keyListOffset--,void 0!==r&&(delete this.cacheOb[r],delete this.keyMap[r],this.size--,e++)}}},{key:"reMap",value:function(){for(var t=[],e=0;e<this.keyList.length;e++){var r=this.keyList[e];void 0!==r&&t.push(r)}this.keyList=t,this.keyListOffset=0;for(e=0;e<this.keyList.length;e++){var n=this.keyList[e];this.keyMap[n]=e}}},{key:"clear",value:function(){this.cacheOb={},this.keyList=[],this.keyMap={},this.keyListOffset=0,this.size=0}}])}(),function(t,e){for(var r=[],n=0;n<t.length;n++){var o=e(t[n],n);g(o)?r.push.apply(r,o):r.push(o)}return r}),g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},d=j;function j(t,e,r){t instanceof RegExp&&(t=m(t,r)),e instanceof RegExp&&(e=m(e,r));var n=O(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function m(t,e){var r=e.match(t);return r?r[0]:null}function O(t,e,r){var n,o,i,a,c,s=r.indexOf(t),u=r.indexOf(e,s+1),l=s;if(s>=0&&u>0){for(n=[],i=r.length;l>=0&&!c;)l==s?(n.push(l),s=r.indexOf(t,l+1)):1==n.length?c=[n.pop(),u]:((o=n.pop())<i&&(i=o,a=u),u=r.indexOf(e,l+1)),l=s<u&&s>=0?s:u;n.length&&(c=[i,a])}return c}j.range=O;var _=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,r){var n=[];var o=d("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body);var a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body);var c=i||a;var s=o.body.indexOf(",")>=0;if(!c&&!s)return o.post.match(/,.*\}/)?(e=o.pre+"{"+o.body+S+o.post,t(e)):[e];var u;if(c)u=o.body.split(/\.\./);else if(1===(u=function t(e){if(!e)return[""];var r=[];var n=d("{","}",e);if(!n)return e.split(",");var o=n.pre;var i=n.body;var a=n.post;var c=o.split(",");c[c.length-1]+="{"+i+"}";var s=t(a);a.length&&(c[c.length-1]+=s.shift(),c.push.apply(c,s));r.push.apply(r,c);return r}(o.body)).length&&1===(u=t(u[0],!1).map(C)).length){var l=o.post.length?t(o.post,!1):[""];return l.map(function(t){return o.pre+u[0]+t})}var f=o.pre;var l=o.post.length?t(o.post,!1):[""];var p;if(c){var h=x(u[0]),v=x(u[1]),y=Math.max(u[0].length,u[1].length),g=3==u.length?Math.abs(x(u[2])):1,j=P,m=v<h;m&&(g*=-1,j=M);var O=u.some(L);p=[];for(var _=h;j(_,v);_+=g){var w;if(a)"\\"===(w=String.fromCharCode(_))&&(w="");else if(w=String(_),O){var A=y-w.length;if(A>0){var k=new Array(A+1).join("0");w=_<0?"-"+k+w.slice(1):k+w}}p.push(w)}}else p=b(u,function(e){return t(e,!1)});for(var E=0;E<p.length;E++)for(var T=0;T<l.length;T++){var B=f+p[E]+l[T];(!r||c||B)&&n.push(B)}return n}(function(t){return t.split("\\\\").join(w).split("\\{").join(A).split("\\}").join(S).split("\\,").join(k).split("\\.").join(E)}(t),!0).map(T)},w="\0SLASH"+Math.random()+"\0",A="\0OPEN"+Math.random()+"\0",S="\0CLOSE"+Math.random()+"\0",k="\0COMMA"+Math.random()+"\0",E="\0PERIOD"+Math.random()+"\0";function x(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function T(t){return t.split(w).join("\\").split(A).join("{").split(S).join("}").split(k).join(",").split(E).join(".")}function C(t){return"{"+t+"}"}function L(t){return/^-?0\d/.test(t)}function P(t,e){return t<=e}function M(t,e){return t>=e}var B=W;W.Minimatch=q;var F={sep:"/"},z=W.GLOBSTAR=q.GLOBSTAR={},G={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},N="[^/]",R=N+"*?",D="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",I="(?:(?!(?:\\/|^)\\.).)*?",$="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var U=/\/+/;function V(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function W(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new q(e,r).match(t))}function q(t,e){if(!(this instanceof q))return new q(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==F.sep&&(t=t.split(F.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function H(t,e){if(e||(e=this instanceof q?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:_(t)}W.filter=function(t,e){return e=e||{},function(r,n,o){return W(r,t,e)}},W.defaults=function(t){if(!t||!Object.keys(t).length)return W;var e=W,r=function(r,n,o){return e.minimatch(r,n,V(t,o))};return r.Minimatch=function(r,n){return new e.Minimatch(r,V(t,n))},r},q.defaults=function(t){return t&&Object.keys(t).length?W.defaults(t).Minimatch:q},q.prototype.debug=function(){},q.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map(function(t){return t.split(U)}),this.debug(this.pattern,r),r=r.map(function(t,e,r){return t.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,r),this.set=r},q.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=0;if(this.options.nonegate)return;for(var n=0,o=t.length;n<o&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},W.braceExpand=function(t,e){return H(t,e)},q.prototype.braceExpand=H,q.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return z;if(""===t)return"";var n,o="",i=!!r.nocase,a=!1,c=[],s=[],u=!1,l=-1,f=-1,p="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function v(){if(n){switch(n){case"*":o+=R,i=!0;break;case"?":o+=N,i=!0;break;default:o+="\\"+n}h.debug("clearStateChar %j %j",n,o),n=!1}}for(var y,b=0,g=t.length;b<g&&(y=t.charAt(b));b++)if(this.debug("%s\t%s %s %j",t,b,o,y),a&&$[y])o+="\\"+y,a=!1;else switch(y){case"/":return!1;case"\\":v(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,b,o,y),u){this.debug("  in class"),"!"===y&&b===f+1&&(y="^"),o+=y;continue}h.debug("call clearStateChar %j",n),v(),n=y,r.noext&&v();continue;case"(":if(u){o+="(";continue}if(!n){o+="\\(";continue}c.push({type:n,start:b-1,reStart:o.length,open:G[n].open,close:G[n].close}),o+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,o),n=!1;continue;case")":if(u||!c.length){o+="\\)";continue}v(),i=!0;var d=c.pop();o+=d.close,"!"===d.type&&s.push(d),d.reEnd=o.length;continue;case"|":if(u||!c.length||a){o+="\\|",a=!1;continue}v(),o+="|";continue;case"[":if(v(),u){o+="\\"+y;continue}u=!0,f=b,l=o.length,o+=y;continue;case"]":if(b===f+1||!u){o+="\\"+y,a=!1;continue}if(u)var j,m=t.substring(f+1,b);i=!0,u=!1,o+=y;continue;default:v(),a?a=!1:!$[y]||"^"===y&&u||(o+="\\"),o+=y}u&&(m=t.substr(f+1),j=this.parse(m,Z),o=o.substr(0,l)+"\\["+j[0],i=i||j[1]);for(d=c.pop();d;d=c.pop()){var O=o.slice(d.reStart+d.open.length);this.debug("setting tail",o,d),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,r){return r||(r="\\"),e+e+r+"|"}),this.debug("tail=%j\n   %s",O,O,d,o);var _="*"===d.type?R:"?"===d.type?N:"\\"+d.type;i=!0,o=o.slice(0,d.reStart)+_+"\\("+O}v(),a&&(o+="\\\\");var w=!1;switch(o.charAt(0)){case".":case"[":case"(":w=!0}for(var A=s.length-1;A>-1;A--){var S=s[A],k=o.slice(0,S.reStart),E=o.slice(S.reStart,S.reEnd-8),x=o.slice(S.reEnd-8,S.reEnd),T=o.slice(S.reEnd);x+=T;var C=k.split("(").length-1,L=T;for(b=0;b<C;b++)L=L.replace(/\)[+*?]?/,"");var P="";""===(T=L)&&e!==Z&&(P="$");var M=k+E+T+P+x;o=M}""!==o&&i&&(o="(?=.)"+o);w&&(o=p+o);if(e===Z)return[o,i];if(!i)return t.replace(/\\(.)/g,"$1");var B=r.nocase?"i":"";try{var F=new RegExp("^"+o+"$",B)}catch(t){return new RegExp("$.")}return F._glob=t,F._src=o,F};var Z={};W.makeRe=function(t,e){return new q(t,e||{}).makeRe()},q.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?R:e.dot?D:I,n=e.nocase?"i":"",o=t.map(function(t){return t.map(function(t){return t===z?r:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(t){this.regexp=!1}return this.regexp},W.match=function(t,e,r){var n=new q(e,r=r||{});return t=t.filter(function(t){return n.match(t)}),n.options.nonull&&!t.length&&t.push(e),t},q.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==F.sep&&(t=t.split(F.sep).join("/"));t=t.split(U),this.debug(this.pattern,"split",t);var n,o,i=this.set;for(this.debug(this.pattern,"set",i),o=t.length-1;o>=0&&!(n=t[o]);o--);for(o=0;o<i.length;o++){var a=i[o],c=t;r.matchBase&&1===a.length&&(c=[n]);var s=this.matchOne(c,a,e);if(s)return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},q.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,i=0,a=t.length,c=e.length;o<a&&i<c;o++,i++){this.debug("matchOne loop");var s,u=e[i],l=t[o];if(this.debug(e,u,l),!1===u)return!1;if(u===z){this.debug("GLOBSTAR",[e,u,l]);var f=o,p=i+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===t[o]||".."===t[o]||!n.dot&&"."===t[o].charAt(0))return!1;return!0}for(;f<a;){var h=t[f];if(this.debug("\nglobstar while",t,f,e,p,h),this.matchOne(t.slice(f),e.slice(p),r))return this.debug("globstar found match!",f,a,h),!0;if("."===h||".."===h||!n.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,f,e,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!r||(this.debug("\n>>> no match, partial?",t,f,e,p),f!==a))}if("string"==typeof u?(s=n.nocase?l.toLowerCase()===u.toLowerCase():l===u,this.debug("string match",u,l,s)):(s=l.match(u),this.debug("pattern match",u,l,s)),!s)return!1}if(o===a&&i===c)return!0;if(o===a)return r;if(i===c)return o===a-1&&""===t[o];throw new Error("wtf?")};var J=function(){this.__data__=[],this.size=0};var X=function(t,e){return t===e||t!=t&&e!=e};var Y=function(t,e){for(var r=t.length;r--;)if(X(t[r][0],e))return r;return-1},K=Array.prototype.splice;var Q=function(t){var e=this.__data__,r=Y(e,t);return!(r<0||(r==e.length-1?e.pop():K.call(e,r,1),--this.size,0))};var tt=function(t){var e=this.__data__,r=Y(e,t);return r<0?void 0:e[r][1]};var et=function(t){return Y(this.__data__,t)>-1};var rt=function(t,e){var r=this.__data__,n=Y(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nt.prototype.clear=J,nt.prototype.delete=Q,nt.prototype.get=tt,nt.prototype.has=et,nt.prototype.set=rt;var ot=nt;var it=function(){this.__data__=new ot,this.size=0};var at=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var ct=function(t){return this.__data__.get(t)};var st=function(t){return this.__data__.has(t)},ut="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function lt(t,e){return t(e={exports:{}},e.exports),e.exports}var ft="object"==typeof ut&&ut&&ut.Object===Object&&ut,pt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||pt||Function("return this")(),vt=ht.Symbol,yt=Object.prototype,bt=yt.hasOwnProperty,gt=yt.toString,dt=vt?vt.toStringTag:void 0;var jt=function(t){var e=bt.call(t,dt),r=t[dt];try{t[dt]=void 0;var n=!0}catch(t){}var o=gt.call(t);return n&&(e?t[dt]=r:delete t[dt]),o},mt=Object.prototype.toString;var Ot=function(t){return mt.call(t)},_t="[object Null]",wt="[object Undefined]",At=vt?vt.toStringTag:void 0;var St=function(t){return null==t?void 0===t?wt:_t:At&&At in Object(t)?jt(t):Ot(t)};var kt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Et="[object AsyncFunction]",xt="[object Function]",Tt="[object GeneratorFunction]",Ct="[object Proxy]";var Lt,Pt=function(t){if(!kt(t))return!1;var e=St(t);return e==xt||e==Tt||e==Et||e==Ct},Mt=ht["__core-js_shared__"],Bt=(Lt=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+Lt:"";var Ft=function(t){return!!Bt&&Bt in t},zt=Function.prototype.toString;var Gt=function(t){if(null!=t){try{return zt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Nt=/^\[object .+?Constructor\]$/,Rt=Function.prototype,Dt=Object.prototype,It=Rt.toString,$t=Dt.hasOwnProperty,Ut=RegExp("^"+It.call($t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Vt=function(t){return!(!kt(t)||Ft(t))&&(Pt(t)?Ut:Nt).test(Gt(t))};var Wt=function(t,e){return null==t?void 0:t[e]};var qt=function(t,e){var r=Wt(t,e);return Vt(r)?r:void 0},Ht=qt(ht,"Map"),Zt=qt(Object,"create");var Jt=function(){this.__data__=Zt?Zt(null):{},this.size=0};var Xt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Yt="__lodash_hash_undefined__",Kt=Object.prototype.hasOwnProperty;var Qt=function(t){var e=this.__data__;if(Zt){var r=e[t];return r===Yt?void 0:r}return Kt.call(e,t)?e[t]:void 0},te=Object.prototype.hasOwnProperty;var ee=function(t){var e=this.__data__;return Zt?void 0!==e[t]:te.call(e,t)},re="__lodash_hash_undefined__";var ne=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Zt&&void 0===e?re:e,this};function oe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}oe.prototype.clear=Jt,oe.prototype.delete=Xt,oe.prototype.get=Qt,oe.prototype.has=ee,oe.prototype.set=ne;var ie=oe;var ae=function(){this.size=0,this.__data__={hash:new ie,map:new(Ht||ot),string:new ie}};var ce=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var se=function(t,e){var r=t.__data__;return ce(e)?r["string"==typeof e?"string":"hash"]:r.map};var ue=function(t){var e=se(this,t).delete(t);return this.size-=e?1:0,e};var le=function(t){return se(this,t).get(t)};var fe=function(t){return se(this,t).has(t)};var pe=function(t,e){var r=se(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function he(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}he.prototype.clear=ae,he.prototype.delete=ue,he.prototype.get=le,he.prototype.has=fe,he.prototype.set=pe;var ve=he,ye=200;var be=function(t,e){var r=this.__data__;if(r instanceof ot){var n=r.__data__;if(!Ht||n.length<ye-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ve(n)}return r.set(t,e),this.size=r.size,this};function ge(t){var e=this.__data__=new ot(t);this.size=e.size}ge.prototype.clear=it,ge.prototype.delete=at,ge.prototype.get=ct,ge.prototype.has=st,ge.prototype.set=be;var de=ge;var je=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},me=function(){try{var t=qt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Oe=function(t,e,r){"__proto__"==e&&me?me(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},_e=Object.prototype.hasOwnProperty;var we=function(t,e,r){var n=t[e];_e.call(t,e)&&X(n,r)&&(void 0!==r||e in t)||Oe(t,e,r)};var Ae=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],s=n?n(r[c],t[c],c,r,t):void 0;void 0===s&&(s=t[c]),o?Oe(r,c,s):we(r,c,s)}return r};var Se=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var ke=function(t){return null!=t&&"object"==typeof t},Ee="[object Arguments]";var xe=function(t){return ke(t)&&St(t)==Ee},Te=Object.prototype,Ce=Te.hasOwnProperty,Le=Te.propertyIsEnumerable,Pe=xe(function(){return arguments}())?xe:function(t){return ke(t)&&Ce.call(t,"callee")&&!Le.call(t,"callee")},Me=Array.isArray;var Be=function(){return!1},Fe=lt(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?ht.Buffer:void 0,i=(o?o.isBuffer:void 0)||Be;t.exports=i}),ze=9007199254740991,Ge=/^(?:0|[1-9]\d*)$/;var Ne=function(t,e){var r=typeof t;return!!(e=null==e?ze:e)&&("number"==r||"symbol"!=r&&Ge.test(t))&&t>-1&&t%1==0&&t<e},Re=9007199254740991;var De=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Re},Ie={};Ie["[object Float32Array]"]=Ie["[object Float64Array]"]=Ie["[object Int8Array]"]=Ie["[object Int16Array]"]=Ie["[object Int32Array]"]=Ie["[object Uint8Array]"]=Ie["[object Uint8ClampedArray]"]=Ie["[object Uint16Array]"]=Ie["[object Uint32Array]"]=!0,Ie["[object Arguments]"]=Ie["[object Array]"]=Ie["[object ArrayBuffer]"]=Ie["[object Boolean]"]=Ie["[object DataView]"]=Ie["[object Date]"]=Ie["[object Error]"]=Ie["[object Function]"]=Ie["[object Map]"]=Ie["[object Number]"]=Ie["[object Object]"]=Ie["[object RegExp]"]=Ie["[object Set]"]=Ie["[object String]"]=Ie["[object WeakMap]"]=!1;var $e=function(t){return ke(t)&&De(t.length)&&!!Ie[St(t)]};var Ue=function(t){return function(e){return t(e)}},Ve=lt(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&ft.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),We=Ve&&Ve.isTypedArray,qe=We?Ue(We):$e,He=Object.prototype.hasOwnProperty;var Ze=function(t,e){var r=Me(t),n=!r&&Pe(t),o=!r&&!n&&Fe(t),i=!r&&!n&&!o&&qe(t),a=r||n||o||i,c=a?Se(t.length,String):[],s=c.length;for(var u in t)!e&&!He.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ne(u,s))||c.push(u);return c},Je=Object.prototype;var Xe=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Je)};var Ye=function(t,e){return function(r){return t(e(r))}},Ke=Ye(Object.keys,Object),Qe=Object.prototype.hasOwnProperty;var tr=function(t){if(!Xe(t))return Ke(t);var e=[];for(var r in Object(t))Qe.call(t,r)&&"constructor"!=r&&e.push(r);return e};var er=function(t){return null!=t&&De(t.length)&&!Pt(t)};var rr=function(t){return er(t)?Ze(t):tr(t)};var nr=function(t,e){return t&&Ae(e,rr(e),t)};var or=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},ir=Object.prototype.hasOwnProperty;var ar=function(t){if(!kt(t))return or(t);var e=Xe(t),r=[];for(var n in t)("constructor"!=n||!e&&ir.call(t,n))&&r.push(n);return r};var cr=function(t){return er(t)?Ze(t,!0):ar(t)};var sr=function(t,e){return t&&Ae(e,cr(e),t)},ur=lt(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?ht.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}});var lr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var fr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var pr=function(){return[]},hr=Object.prototype.propertyIsEnumerable,vr=Object.getOwnPropertySymbols,yr=vr?function(t){return null==t?[]:(t=Object(t),fr(vr(t),function(e){return hr.call(t,e)}))}:pr;var br=function(t,e){return Ae(t,yr(t),e)};var gr=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},dr=Ye(Object.getPrototypeOf,Object),jr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)gr(e,yr(t)),t=dr(t);return e}:pr;var mr=function(t,e){return Ae(t,jr(t),e)};var Or=function(t,e,r){var n=e(t);return Me(t)?n:gr(n,r(t))};var _r=function(t){return Or(t,rr,yr)};var wr=function(t){return Or(t,cr,jr)},Ar=qt(ht,"DataView"),Sr=qt(ht,"Promise"),kr=qt(ht,"Set"),Er=qt(ht,"WeakMap"),xr=Gt(Ar),Tr=Gt(Ht),Cr=Gt(Sr),Lr=Gt(kr),Pr=Gt(Er),Mr=St;(Ar&&"[object DataView]"!=Mr(new Ar(new ArrayBuffer(1)))||Ht&&"[object Map]"!=Mr(new Ht)||Sr&&"[object Promise]"!=Mr(Sr.resolve())||kr&&"[object Set]"!=Mr(new kr)||Er&&"[object WeakMap]"!=Mr(new Er))&&(Mr=function(t){var e=St(t),r="[object Object]"==e?t.constructor:void 0,n=r?Gt(r):"";if(n)switch(n){case xr:return"[object DataView]";case Tr:return"[object Map]";case Cr:return"[object Promise]";case Lr:return"[object Set]";case Pr:return"[object WeakMap]"}return e});var Br=Mr,Fr=Object.prototype.hasOwnProperty;var zr=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Fr.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Gr=ht.Uint8Array;var Nr=function(t){var e=new t.constructor(t.byteLength);return new Gr(e).set(new Gr(t)),e};var Rr=function(t,e){var r=e?Nr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Dr=/\w*$/;var Ir=function(t){var e=new t.constructor(t.source,Dr.exec(t));return e.lastIndex=t.lastIndex,e},$r=vt?vt.prototype:void 0,Ur=$r?$r.valueOf:void 0;var Vr=function(t){return Ur?Object(Ur.call(t)):{}};var Wr=function(t,e){var r=e?Nr(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},qr="[object Boolean]",Hr="[object Date]",Zr="[object Map]",Jr="[object Number]",Xr="[object RegExp]",Yr="[object Set]",Kr="[object String]",Qr="[object Symbol]",tn="[object ArrayBuffer]",en="[object DataView]",rn="[object Float32Array]",nn="[object Float64Array]",on="[object Int8Array]",an="[object Int16Array]",cn="[object Int32Array]",sn="[object Uint8Array]",un="[object Uint8ClampedArray]",ln="[object Uint16Array]",fn="[object Uint32Array]";var pn=function(t,e,r){var n=t.constructor;switch(e){case tn:return Nr(t);case qr:case Hr:return new n(+t);case en:return Rr(t,r);case rn:case nn:case on:case an:case cn:case sn:case un:case ln:case fn:return Wr(t,r);case Zr:return new n;case Jr:case Kr:return new n(t);case Xr:return Ir(t);case Yr:return new n;case Qr:return Vr(t)}},hn=Object.create,vn=function(){function t(){}return function(e){if(!kt(e))return{};if(hn)return hn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var yn=function(t){return"function"!=typeof t.constructor||Xe(t)?{}:vn(dr(t))},bn="[object Map]";var gn=function(t){return ke(t)&&Br(t)==bn},dn=Ve&&Ve.isMap,jn=dn?Ue(dn):gn,mn="[object Set]";var On=function(t){return ke(t)&&Br(t)==mn},_n=Ve&&Ve.isSet,wn=_n?Ue(_n):On,An=1,Sn=2,kn=4,En="[object Arguments]",xn="[object Function]",Tn="[object GeneratorFunction]",Cn="[object Object]",Ln={};Ln[En]=Ln["[object Array]"]=Ln["[object ArrayBuffer]"]=Ln["[object DataView]"]=Ln["[object Boolean]"]=Ln["[object Date]"]=Ln["[object Float32Array]"]=Ln["[object Float64Array]"]=Ln["[object Int8Array]"]=Ln["[object Int16Array]"]=Ln["[object Int32Array]"]=Ln["[object Map]"]=Ln["[object Number]"]=Ln[Cn]=Ln["[object RegExp]"]=Ln["[object Set]"]=Ln["[object String]"]=Ln["[object Symbol]"]=Ln["[object Uint8Array]"]=Ln["[object Uint8ClampedArray]"]=Ln["[object Uint16Array]"]=Ln["[object Uint32Array]"]=!0,Ln["[object Error]"]=Ln[xn]=Ln["[object WeakMap]"]=!1;var Pn=function t(e,r,n,o,i,a){var c,s=r&An,u=r&Sn,l=r&kn;if(n&&(c=i?n(e,o,i,a):n(e)),void 0!==c)return c;if(!kt(e))return e;var f=Me(e);if(f){if(c=zr(e),!s)return lr(e,c)}else{var p=Br(e),h=p==xn||p==Tn;if(Fe(e))return ur(e,s);if(p==Cn||p==En||h&&!i){if(c=u||h?{}:yn(e),!s)return u?mr(e,sr(c,e)):br(e,nr(c,e))}else{if(!Ln[p])return i?e:{};c=pn(e,p,s)}}a||(a=new de);var v=a.get(e);if(v)return v;if(a.set(e,c),wn(e))return e.forEach(function(o){c.add(t(o,r,n,o,e,a))}),c;if(jn(e))return e.forEach(function(o,i){c.set(i,t(o,r,n,i,e,a))}),c;var y=l?u?wr:_r:u?keysIn:rr,b=f?void 0:y(e);return je(b||e,function(o,i){b&&(o=e[i=o]),we(c,i,t(o,r,n,i,e,a))}),c},Mn=1,Bn=4;var Fn=function(t){return Pn(t,Mn|Bn)};window&&(window.minimatch=B);var zn,Gn={rcType:f,rcObject:l,name:"util",isAsyncFunction:function(t){var e=t.toString().trim();return!(!e.match(/^async /)&&!e.match(/return _ref[^\.]*\.apply/))},minimatch:B,normalizePath:function(t){return"string"==typeof t?t.split(/[\.\\/]/):t},cloneDeep:Fn};!function(t){t.pre="pre",t.fin="fin"}(zn||(zn={}));var Nn=function(){function r(t){e(this,r),this.filters={pre:{},fin:{},get:{}},this.globFilters=[],this.options=Object.assign({},r.DEFAULT_OPTIONS,t)}return n(r,[{key:"addFilter",value:function(t){if(Array.isArray(t.path)){var e=this.filters[t.type],r=Gn.rcObject.getObjectValueByNames(e,i(t.path).concat(["[GOB:FILTERS NODE]"]),void 0);if(void 0===r)Gn.rcObject.setObjectValueByNames(e,i(t.path).concat(["[GOB:FILTERS NODE]"]),[t]);else{if(!r.push)throw Error("[Gob] FilterManager.addFilter() filters Node not found. path:"+JSON.stringify(t.path));r.push(t)}return t}return this.globFilters.push(t),t}},{key:"getFilters",value:function(t,e){var r=this,n=this.filters[e],o=Gn.rcObject.getObjectValueByNames(n,i(t).concat(["[GOB:FILTERS NODE]"]),void 0),a=this.globFilters.filter(function(e){return e.path instanceof RegExp?e.path.test(t.join(r.options.pathSeparator)):Gn.minimatch(t.join(r.options.pathSeparator),e.path)});return void 0==o&&(o=[]),void 0==a&&(a=[]),i(o).concat(i(a))}},{key:"removeFilter",value:function(t){var e=null;if(Array.isArray(t.path)){var r=this.filters[t.type];e=Gn.rcObject.getObjectValueByNames(r,i(t.path).concat(["[GOB:FILTERS NODE]"]),void 0)}else e=this.globFilters;if(e)for(var n=0;n<e.length;n++)if(e[n]===t)return e.splice(n,1),!0}},{key:"newFilter",value:function(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,a=arguments.length>5?arguments[5]:void 0;if("function"!=typeof n)throw Error("[Gob] FilterManager.newFilter(), func is not a functin. func is "+t(n));if(!(Array.isArray(e)||e instanceof RegExp||"string"==typeof e))throw Error("[Gob] FilterManager.newFilter(), path is not a Array|String|RegExp. path is "+t(e));if(!this.filters[r])throw Error('[Gob] FilterManager.newFilter(), type is not a FilterType: "fin", "pre", "get". type is '+r);var c={path:e,type:r,name:o,func:n,isAsync:a,level:i,disable:!1};return void 0==a&&(c.isAsync=Gn.isAsyncFunction(n)),c}}]),r}();Nn.DEFAULT_OPTIONS={pathSeparator:"."};var Rn=null;function Dn(t,e,r){Rn={stimuliType:t,path:e,loaclDataIsArray:r}}var In=Gn.rcObject,$n=function(){function t(r){e(this,t),this.stimuliLog={changes:[],visits:[],indexes:{set:0,get:0,delete:0,all:0},latestPath:null,latestType:null},this.gobCore=r}return n(t,[{key:"receptor",value:function(t,e){for(var r=this.gobCore.filterManager.getFilters(t.path,zn.pre),n=0;n<r.length&&!r[n].isAsync;n++);return this.react(t,e)}},{key:"react",value:function(t,e){console.log("[receptor]",e?"<Handler>":"<noHandler>",t.type,t.path),e&&(function(t,e,r){var n=Array.isArray(r.loaclData);return n&&"length"===e[e.length-1]&&Rn&&"set"===Rn.stimuliType&&1==Rn.loaclDataIsArray&&Rn.path&&"length"!==Rn.path[Rn.path.length-1]?(Dn(t,e,n),!0):(Dn(t,e,n),!1)}(t.type,Gn.normalizePath(t.path),e)||this.recordStimuli(t));t.type;var r=Gn.normalizePath(t.path),n=t.value,o=this.gobCore.handler.set,i=this.gobCore.handler.get,a=this.gobCore.handler.delete;switch(t.type){case"get":return e?i(r,r[r.length-1],e):In.getObjectValueByNames(this.gobCore.proxy,r,null);case"set":return e?o(r,n,r[r.length-1],e):In.setObjectValueByNames(this.gobCore.proxy,r,n);case"delete":return e?a(r,n,r[r.length-1],e):In.deleteObjectValueByNames(this.gobCore.proxy,r)}}},{key:"recordStimuli",value:function(t){var e=this;if(!0!==this.gobCore.options.disableLog&&(!this.gobCore.options.logType||!1!==this.gobCore.options.logType[t.type])){this.stimuliLog.latestPath=Gn.normalizePath(t.path),this.stimuliLog.latestType=t.type;var r=this.stimuliLog.indexes.all++,n=this.stimuliLog.indexes[t.type]++,o=function(){var o={type:t.type,path:Gn.normalizePath(t.path),value:Gn.cloneDeep(t.value),origin:Gn.cloneDeep(t.origin),info:{index:r,typeIndex:n}};console.log("[Stimuli]",o),"set"===t.type||"delete"===t.type?e.stimuliLog.changes.push(o):e.stimuliLog.visits.push(o)};!0===this.gobCore.options.syncLog?o():setTimeout(o,0)}}},{key:"getLatestStimuliSign",value:function(){if(this.stimuliLog.latestType)return{type:this.stimuliLog.latestType,path:this.stimuliLog.latestPath}}}]),t}(),Un=function t(){e(this,t)},Vn="[PROXY]";function Wn(t,e,r,n){return{set:function(o,a,c){if(a==n.GOB_CORE_NAME)return!0;var s=i(r).concat([a]),u={loaclData:t,localGate:e,state:n};return n.gobCore.stimuliBus.receptor({type:"set",path:s,value:c,origin:null},u)},get:function(s,u){if(u==n.GOB_CORE_NAME)return n.gobCore;if("$get"==u)return o;if("$set"==u)return a;if("$delete"==u)return c;if("$core"==u)return n.gobCore;var l=i(r).concat([u]),f={loaclData:t,localGate:e,state:n};return n.gobCore.stimuliBus.receptor({type:"get",path:l,value:void 0,origin:null},f)},deleteProperty:function(o,a){if(a==n.GOB_CORE_NAME)return!0;console.log("called: "+a);var c=i(r).concat([a]),s={loaclData:t,localGate:e,state:n};return n.gobCore.stimuliBus.receptor({type:"delete",path:c,value:null,origin:null},s)}};function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=Gn.normalizePath(t),a=i(r).concat(i(o));return console.log("$get",a),n.gobCore.stimuliBus.receptor({type:"get",path:a,value:void 0,origin:e})}function a(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=Gn.normalizePath(t),c=i(r).concat(i(a));return console.log("$set",c,e),n.gobCore.stimuliBus.receptor({type:"set",path:c,value:e,origin:o})}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=Gn.normalizePath(t),a=i(r).concat(i(o));return console.log("$delete",a),n.gobCore.stimuliBus.receptor({type:"delete",path:a,value:void 0,origin:e})}}var qn=Gn.rcType;function Hn(t,e,r){var n=r.loaclData[e];console.log("[get]",t,{loaclData:r.loaclData,key:e});var o=qn.getType(n);return console.log("  [get value]",n,o),"object"===o||"array"===o?(console.log("  [find gates]",t),r.localGate[e][Vn]):(console.log("  return value",n),n)}var Zn=Gn.rcType,Jn=Gn.rcObject;function Xn(e,r,n,o){var a=Zn.getType(r);return console.log("[set]","fullPath:",e,{valueType:a,key:n,value:r}),"object"===a||"array"===a?(o.loaclData[n]=r,Yn(r,[n],e,o),Jn.pathEach(r,function(r,a){"object"===t(r)&&Yn(r,[n].concat(i(a)),i(e).concat(i(a)),o)},function(t,e,r){var a;a=0==r.length?o.localGate[n]:Jn.getObjectValueByNames(o.localGate,[n,r],null);Jn.setObjectValueByNames(o.localGate,[n].concat(i(e)),a)})):o.loaclData[n]=r,!0}function Yn(t,e,r,n){var o={},i=new Proxy(t,Wn(t,o,r,n.state));return o[Vn]=i,Jn.setObjectValueByNames(n.localGate,e,o),o}var Kn=Gn.rcType;function Qn(t,e,r,n){Kn.getType(e);return console.log("[del]","fullPath:",t,{key:r}),delete n.loaclData[r]}var to=function(t){function r(){var t;return e(this,r),(t=o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))).get=Hn,t.set=Xn,t.delete=Qn,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,Un),n(r,[{key:"createGobProxy",value:function(t,e){var r=new Proxy(t.data,Wn(t.data,t.gate,[],{coreData:t.data,coreGate:t.gate,gobCore:t,GOB_CORE_NAME:"[Gob Core]"}));if(e)for(var n in e)r[n]=e[n];return r}}]),r}(),eo=function(){function t(r){e(this,t),this.gobCore=r}return n(t,[{key:"recOnce",value:function(){}}]),t}(),ro=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),this.stimuliBus=new $n(this),this.filterManager=new Nn({pathSeparator:"."}),this.recorder=new eo(this),this.isGob=3,this.data={},this.gate={},this.options=Object.assign({},t.DEFAULT_OPTIONS,r),this.handler=new to};ro.DEFAULT_OPTIONS={syncLog:!1,disableLog:!1,logType:{set:!0,get:!1,delete:!0},logSize:2048};var no=function(t,e){var r=new ro(e),n=r.handler.createGobProxy(r,t);return r.proxy=n,n};return no.default={options:{}},no.GOB_CORE_NAME="[Gob Core]",no.inspect=function(t){if(t["[Gob Core]"])return t["[Gob Core]"];throw Error("[Gob] Gob.inspect: param is not Gob3 Instance. :"+t)},no});
